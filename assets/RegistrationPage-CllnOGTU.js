import{j as e,r as a}from"./index-Bn89JNIr.js";function p({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Как тебя зовут?"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>n({...s,name:t.target.value}),placeholder:"Имя",className:"input"})]})}function d({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Сколько тебе лет?"}),e.jsx("input",{type:"number",min:13,value:s.age??"",onChange:t=>n({...s,age:Number(t.target.value)}),placeholder:"Возраст",className:"input"})]})}function x({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Твой гендер"}),e.jsx("div",{className:"radio-group",children:["male","female","other"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"gender",value:t,checked:s.gender===t,onChange:()=>n({...s,gender:t})}),t==="male"?"Мужской":t==="female"?"Женский":"Другое"]},t))})]})}function g({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Показывать гендер в профиле?"}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:s.showGender,onChange:t=>n({...s,showGender:t.target.checked})}),"Да, показывать"]})]})}function m({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Город"}),e.jsx("input",{type:"text",value:s.city,onChange:t=>n({...s,city:t.target.value}),placeholder:"Город",className:"input"})]})}function j({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Рост и вес"}),e.jsx("input",{type:"number",placeholder:"Рост (см)",value:s.height??"",onChange:t=>n({...s,height:Number(t.target.value)}),className:"input"}),e.jsx("input",{type:"number",placeholder:"Вес (кг)",value:s.weight??"",onChange:t=>n({...s,weight:Number(t.target.value)}),className:"input"})]})}const v=["Спорт","Музыка","Книги","Путешествия","Игры","Кино"];function N({data:s,setData:n}){const t=i=>{s.interests.includes(i)?n({...s,interests:s.interests.filter(r=>r!==i)}):n({...s,interests:[...s.interests,i]})};return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Интересы"}),e.jsx("div",{className:"interests",children:v.map(i=>e.jsx("button",{className:s.interests.includes(i)?"interest selected":"interest",onClick:()=>t(i),children:i},i))})]})}function f({data:s,setData:n}){return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"О себе"}),e.jsx("textarea",{value:s.about,onChange:t=>n({...s,about:t.target.value}),placeholder:"Расскажи немного о себе",className:"textarea",rows:4})]})}function y({data:s}){const n=async()=>{try{if(!(await fetch("https://your-server.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Ошибка сохранения");alert("Данные успешно сохранены!")}catch(t){console.error(t),alert("Не удалось сохранить данные. Попробуй еще раз.")}};return e.jsxs("div",{className:"step",children:[e.jsx("h2",{children:"Проверь свои данные"}),e.jsx("pre",{children:JSON.stringify(s,null,2)}),e.jsx("button",{onClick:n,className:"btn-save",children:"Сохранить"})]})}const b="_container_1ddk7_1",S="_progressBar_1ddk7_19",w="_progress_1ddk7_19",c={container:b,progressBar:S,progress:w};function k(){const[s,n]=a.useState(0),[t,i]=a.useState(null),[r,l]=a.useState({name:"",age:null,gender:null,showGender:!0,city:"",height:null,weight:null,interests:[],about:"",tg_id:void 0});a.useEffect(()=>{window.Telegram?.WebApp?.initDataUnsafe&&i(Number(window.Telegram.WebApp.initDataUnsafe.user?.id))},[]),a.useEffect(()=>{t&&l(u=>({...u,tg_id:t}))},[t]);const o=[e.jsx(p,{data:r,setData:l}),e.jsx(d,{data:r,setData:l}),e.jsx(x,{data:r,setData:l}),e.jsx(g,{data:r,setData:l}),e.jsx(m,{data:r,setData:l}),e.jsx(j,{data:r,setData:l}),e.jsx(N,{data:r,setData:l}),e.jsx(f,{data:r,setData:l}),e.jsx(y,{data:r})],h=Math.round((s+1)/o.length*100);return e.jsxs("div",{className:c.container,children:[e.jsx("div",{className:c.progressBar,children:e.jsx("div",{className:c.progress,style:{width:`${h}%`}})}),o[s],e.jsx("button",{onClick:()=>n(s-1),style:{marginTop:"16px"},children:"Назад"}),e.jsx("button",{onClick:()=>n(s+1),style:{marginTop:"16px"},children:"Далее"})]})}export{k as default};
